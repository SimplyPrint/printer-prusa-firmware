From 61b69ce9920126439eb2d76346b803e5d0f5d423 Mon Sep 17 00:00:00 2001
From: AtomJon <jonbruskin@gmail.com>
Date: Sat, 20 Sep 2025 13:12:24 +0200
Subject: [PATCH] Update State::preview_wait_user to actually handle a valid
 response and skip calibration screen if print was requested from server

---
 src/common/marlin_print_preview.hpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/common/marlin_print_preview.hpp b/src/common/marlin_print_preview.hpp
index b237bff36..53b73f542 100644
--- a/src/common/marlin_print_preview.hpp
+++ b/src/common/marlin_print_preview.hpp
@@ -150,7 +150,7 @@ public:
 private:
     uint32_t last_run = 0;
     uint32_t last_still_valid_check_ms = 0;
-    AsyncJob still_valid_check_job;
+    AsyncJobWithResult<bool> still_valid_check_job;
 
     marlin_server::PreviewSkipIfAble skip_if_able = marlin_server::PreviewSkipIfAble::no; ///< Whether to skip parts of preview when printing is started
 
-- 
2.34.1

